<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Toonix TV - HLS VFX Player</title>

  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>

  <!-- Animate.css -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet"/>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet"/>

  <!-- tsParticles -->
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2"></script>

  <!-- HLS.js -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

  <style>
    body {
      font-family: 'Orbitron', sans-serif;
      background: radial-gradient(circle at center, #000011 0%, #0a001a 100%);
      color: white;
      overflow-x: hidden;
    }

    .neon-text {
      color: #fff;
      text-shadow: 0 0 5px #fff, 0 0 20px #f0f, 0 0 30px #0ff, 0 0 40px #f0f;
    }

    .glow-card:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #0ff, 0 0 40px #f0f;
    }

    .glass {
      backdrop-filter: blur(20px);
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
    }

    .glitch {
      animation: glitch 1s infinite;
    }

    @keyframes glitch {
      0% {text-shadow: 2px 2px red;}
      25% {text-shadow: -2px -2px blue;}
      50% {text-shadow: 2px -2px lime;}
      75% {text-shadow: -2px 2px orange;}
      100% {text-shadow: 2px 2px red;}
    }

    #intro {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: black;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeOut 3s 3s forwards;
    }

    @keyframes fadeOut {
      to {opacity: 0; visibility: hidden;}
    }

    .intro-text {
      font-size: 3rem;
      color: white;
      animation: zoomIn 2s ease-out;
    }

    @keyframes zoomIn {
      from {transform: scale(0);}
      to {transform: scale(1);}
    }
  </style>
</head>
<body>

  <!-- Intro -->
  <div id="intro">
    <div class="intro-text neon-text">ðŸš€ TOONIX TV</div>
  </div>

  <!-- tsParticles -->
  <div id="tsparticles" class="absolute inset-0 -z-10"></div>

  <!-- Header -->
  <header class="text-center p-6 animate__animated animate__fadeInDown">
    <img src="https://cdn5.cdn-telegram.org/file/pftpARIH3rlNmSXjwODWJ64OjWO9gDGtpK2ivS3QbHIBhWsXITN05ZTMFeo7-81HA65WnMwigigUOdIXKSqQHvazIpvl-PX5z3mNtn68M9dybjH3fFBzVMTtwB4NLDh2Nxg9wt2zvPCk0LQbaUwOCc6RllJbeIwXOKBvepuMzU-zok2WHdP7UnIyJ_1tjskTZ8Zno1RfxetABHO_eXQXpdAtUZSuhlZWg5dsl38caBkPbCjmLp9SLsJzr4KPabmI5TzOQX0ft6N96SiPnGv9olzSq1AOOGjaH98xtM_NMrq-G0WoTWzdIR3Es2XZ_78_03e64aKD5T9ajLhwmAY5pg.jpg"
         class="h-28 w-28 mx-auto rounded-full border-4 border-purple-500 cursor-pointer glow-card"
         onclick="window.open('https://t.me/Toonix_TV','_blank')"/>
    <h1 class="text-5xl mt-4 glitch">Toonix TV</h1>
  </header>

  <!-- Video Player Container -->
  <div class="flex flex-col items-center px-4">
    <video id="videoPlayer" class="w-full max-w-4xl rounded-xl glass mb-6" controls crossorigin playsinline></video>

    <!-- Playlist Input -->
    <input type="text" id="playlistUrl" placeholder="Enter .m3u8 or .m3u playlist URL" class="text-black p-3 rounded-xl w-full max-w-xl mb-4"/>

    <button onclick="loadPlaylist()" class="px-6 py-3 bg-pink-600 rounded-xl glow-card text-lg font-bold">ðŸŽ¬ Load Playlist</button>

    <!-- Playlist List -->
    <ul id="playlistContainer" class="mt-6 space-y-2 w-full max-w-xl text-center"></ul>
  </div>

  <!-- Footer -->
  <footer class="text-center text-sm p-6 text-gray-400 mt-12">
    &copy; 2025 Toonix TV. Streamed with ðŸš€, Styled with ðŸ’¥.
  </footer>

  <!-- Scripts -->
  <script>
    const player = document.getElementById("videoPlayer");

    function loadPlaylist() {
      const url = document.getElementById("playlistUrl").value;
      fetch(url)
        .then(res => res.text())
        .then(data => {
          const lines = data.split('\n').filter(line => line && !line.startsWith('#'));
          const list = document.getElementById("playlistContainer");
          list.innerHTML = '';
          lines.forEach((line, i) => {
            const li = document.createElement("li");
            li.innerHTML = `<button onclick="playM3U8('${line}')" class="w-full bg-purple-700 rounded-xl p-3 neon-text glow-card">${i + 1}. ${line}</button>`;
            list.appendChild(li);
          });
        })
        .catch(e => alert("Failed to load playlist"));
    }

    function playM3U8(url) {
      if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(player);
        hls.on(Hls.Events.MANIFEST_PARSED, () => {
          player.play();
        });
      } else if (player.canPlayType('application/vnd.apple.mpegurl')) {
        player.src = url;
        player.play();
      }
    }

    tsParticles.load("tsparticles", {
      fullScreen: { enable: true, zIndex: -1 },
      particles: {
        number: { value: 100 },
        color: { value: "#0ff" },
        links: { enable: true, color: "#f0f", distance: 150 },
        move: { enable: true, speed: 1 },
        size: { value: 2 },
      }
    });
  </script>
</body>
</html>
