<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Toonix TV - M3U8 Video Player</title>

<!-- Tailwind CSS -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
<!-- Animate.css -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet" />
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet" />
<!-- Video.js CSS -->
<link href="https://vjs.zencdn.net/7.22.1/video-js.css" rel="stylesheet" />

<!-- tsParticles -->
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>

<style>
  body {
    font-family: 'Orbitron', sans-serif;
    background: radial-gradient(circle at center, #000011 0%, #0a001a 100%);
    color: white;
    overflow-x: hidden;
    min-height: 100vh;
  }

  .neon-text {
    color: #fff;
    text-shadow: 0 0 5px #fff, 0 0 20px #f0f, 0 0 30px #0ff, 0 0 40px #f0f;
  }

  .glass {
    backdrop-filter: blur(20px);
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
  }

  .glow-card:hover {
    transform: scale(1.05);
    box-shadow: 0 0 20px #0ff, 0 0 40px #f0f;
  }

  .video-container {
    max-width: 900px;
    margin: auto;
    padding: 1rem;
  }

  /* Playlist grid styling */
  .playlist {
    max-width: 900px;
    margin: 2rem auto;
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
    gap: 1rem;
  }

  .playlist-item {
    cursor: pointer;
    border-radius: 1rem;
  }

  .playlist-item:hover {
    box-shadow: 0 0 15px #0ff, 0 0 30px #f0f;
    transform: scale(1.03);
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .video-container {
      padding: 0.5rem;
    }
  }
</style>

</head>
<body>

<!-- tsParticles Background -->
<div id="tsparticles" class="absolute inset-0 -z-10"></div>

<header class="text-center p-6 animate__animated animate__fadeInDown">
  <h1 class="text-5xl neon-text mb-4">ðŸš€ Toonix TV M3U8 Player</h1>
</header>

<div class="video-container glass p-4 rounded-xl">
  <video
    id="my-video"
    class="video-js vjs-default-skin vjs-big-play-centered"
    controls
    preload="auto"
    width="100%"
    height="360"
    data-setup='{}'
  >
    <!-- Video.js will load M3U8 -->
  </video>
</div>

<div class="playlist px-6">
  <!-- Playlist items will be generated by JS -->
</div>

<script src="https://vjs.zencdn.net/7.22.1/video.min.js"></script>

<script>
  // Sample playlist - replace URLs with your real M3U8 streams supporting multiple audio tracks
  const playlist = [
    {
      title: "Avengers: Endgame (Trailer)",
      src: "https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",
      thumbnail: "https://i0.wp.com/thedigitaltheater.com/wp-content/uploads/2019/03/Endgame.jpg",
    },
    {
      title: "Naruto Episode 1",
      src: "https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8",
      thumbnail: "https://resizing.flixster.com/-XZAfHZM39UwaGJIFWKAE8fS0ak=/v3/t/assets/p194893_b_v12_aa.jpg",
    },
    {
      title: "Stranger Things (Sample Stream)",
      src: "https://moctest-streams.net/hls/stream.m3u8", // Dummy link, replace with real stream
      thumbnail: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Stranger_Things_Logo_UBX.jpg/2048px-Stranger_Things_Logo_UBX.jpg",
    },
  ];

  const player = videojs('my-video', {
    fluid: true,
    html5: {
      hls: {
        overrideNative: true,
      },
    },
  });

  // Load first video by default
  player.src({ src: playlist[0].src, type: "application/x-mpegURL" });

  // Build playlist UI
  const playlistContainer = document.querySelector('.playlist');
  playlist.forEach((item, index) => {
    const card = document.createElement('div');
    card.className = 'playlist-item glass p-4 glow-card';
    card.innerHTML = `
      <img src="${item.thumbnail}" alt="${item.title}" class="rounded-lg mb-2 w-full" />
      <h3 class="text-lg font-bold neon-text">${item.title}</h3>
    `;
    card.onclick = () => {
      player.src({ src: item.src, type: "application/x-mpegURL" });
      player.play();
    };
    playlistContainer.appendChild(card);
  });

  // tsParticles config for neon particles
  tsParticles.load("tsparticles", {
    fullScreen: { enable: true, zIndex: -1 },
    particles: {
      number: { value: 90 },
      size: { value: 3 },
      color: { value: "#f0f" },
      move: { enable: true, speed: 1 },
      links: { enable: true, color: "#0ff", distance: 150 }
    }
  });
</script>

</body>
</html>
